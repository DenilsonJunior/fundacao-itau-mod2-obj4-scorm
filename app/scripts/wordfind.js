!function(){var a,f,x,y,k,c,l;function u(n,r){for(var t,o,e=[],i=0;i<r.height;i++)for(e.push([]),t=0;t<r.width;t++)e[i].push("");for(i=0,o=n.length;i<o;i++)if(!function(n,r,t){var o=c(n,r,t);if(o.length===0)return false;var e=o[Math.floor(Math.random()*o.length)];return l(n,t,e.x,e.y,x[e.orientation]),true}(e,r,n[i]))return null;return e}function B(n,r,t,o,e){for(var i=0,a=0,l=n.length;a<l;a++){var u=e(t,o,a),u=r[u.y][u.x];if(u===n[a])i++;else if(""!==u)return-1}return i}function w(n,r){for(var t=[],o=0,e=n.length;o<e;o++)n[o].overlap>=r&&t.push(n[o]);return t}("undefined"!=typeof exports&&null!==exports?exports:window).wordfind=(a="abcdefghijklmnoprstuvwy",y={horizontal:function(n,r,t,o,e){return n+e<=o},horizontalBack:function(n,r,t,o,e){return e<=n+1},vertical:function(n,r,t,o,e){return r+e<=t},verticalUp:function(n,r,t,o,e){return e<=r+1},diagonal:function(n,r,t,o,e){return n+e<=o&&r+e<=t},diagonalBack:function(n,r,t,o,e){return e<=n+1&&r+e<=t},diagonalUp:function(n,r,t,o,e){return n+e<=o&&e<=r+1},diagonalUpBack:function(n,r,t,o,e){return e<=n+1&&e<=r+1}},k={horizontal:function(n,r,t){return{x:0,y:r+1}},horizontalBack:function(n,r,t){return{x:t-1,y:r}},vertical:function(n,r,t){return{x:0,y:r+100}},verticalUp:function(n,r,t){return{x:0,y:t-1}},diagonal:function(n,r,t){return{x:0,y:r+1}},diagonalBack:function(n,r,t){return{x:t-1,y:t-1<=n?r+1:r}},diagonalUp:function(n,r,t){return{x:0,y:r<t-1?t-1:r+1}},diagonalUpBack:function(n,r,t){return{x:t-1,y:t-1<=n?r+1:r}}},c=function(n,r,t){for(var o=[],e=r.height,i=r.width,a=t.length,l=0,u=0,f=r.orientations.length;u<f;u++)for(var c,h=r.orientations[u],g=y[h],p=x[h],v=k[h],d=0,s=0;s<e;)g(d,s,e,i,a)?((l<=(c=B(t,n,d,s,p))||!r.preferOverlap&&-1<c)&&o.push({x:d,y:s,orientation:h,overlap:l=c}),i<=++d&&(d=0,s++)):(d=(c=v(d,s,a)).x,s=c.y);return r.preferOverlap?w(o,l):o},l=function(n,r,t,o,e){for(var i=0,a=r.length;i<a;i++){var l=e(t,o,i);n[l.y][l.x]=r[i]}},{validOrientations:f=["horizontal","horizontalBack","vertical","verticalUp","diagonal","diagonalUp","diagonalBack","diagonalUpBack"],orientations:x={horizontal:function(n,r,t){return{x:n+t,y:r}},horizontalBack:function(n,r,t){return{x:n-t,y:r}},vertical:function(n,r,t){return{x:n,y:r+t}},verticalUp:function(n,r,t){return{x:n,y:r-t}},diagonal:function(n,r,t){return{x:n+t,y:r+t}},diagonalBack:function(n,r,t){return{x:n-t,y:r+t}},diagonalUp:function(n,r,t){return{x:n+t,y:r-t}},diagonalUpBack:function(n,r,t){return{x:n-t,y:r-t}}},newPuzzle:function(n,r){for(var t,o=0,r=r||{},e=n.slice(0).sort(function(n,r){return n.length<r.length?1:0}),i={height:r.height||e[0].length,width:r.width||e[0].length,orientations:r.orientations||f,fillBlanks:void 0===r.fillBlanks||r.fillBlanks,maxAttempts:r.maxAttempts||3,preferOverlap:void 0===r.preferOverlap||r.preferOverlap};!t;){for(;!t&&o++<i.maxAttempts;)t=u(e,i);t||(i.height++,i.width++,o=0)}return i.fillBlanks&&this.fillBlanks(t,i),t},fillBlanks:function(n){for(var r=0,t=n.length;r<t;r++)for(var o,e=0,i=n[r].length;e<i;e++)n[r][e]||(o=Math.floor(Math.random()*a.length),n[r][e]=a[o])},solve:function(n,r){for(var t={height:n.length,width:n[0].length,orientations:f,preferOverlap:!0},o=[],e=[],i=0,a=r.length;i<a;i++){var l=r[i],u=c(n,t,l);0<u.length&&u[0].overlap===l.length?(u[0].word=l,o.push(u[0])):e.push(l)}return{found:o,notFound:e}},print:function(n){for(var r="",t=0,o=n.length;t<o;t++){for(var e=n[t],i=0,a=e.length;i<a;i++)r+=(""===e[i]?" ":e[i])+" ";r+="\n"}return console.log(r),r}})}.call(void 0);
//# sourceMappingURL=wordfind.js.map
